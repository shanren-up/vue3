!function(a,b){"use strict";var c="className",d=ht.Default,e=null,f=function(){return document},g=function(a){return f().createElement(a)},h=function(){return g("div")},i=function(a,b,c){a.style.setProperty(b,c,e)},j=function(a,b,c){d.def(ht.widget[a],b,c)},k=function(a,b){a.appendChild(b)};ht.widget.Spinner=function(b){function d(){var a=i._config,b=i._value,c=a.step||i._defaultStep,d=b+c;i.setValue(d,!0)}function e(){var a=i._config,b=i._value,c=a.step||i._defaultStep,d=b-c;i.setValue(d,!0)}function f(){null!=i._spinnerTimeoutId&&(clearTimeout(i._spinnerTimeoutId),delete i._spinnerTimeoutId),null!=i._spinnerIntervalId&&(clearInterval(i._spinnerIntervalId),delete i._spinnerIntervalId),a.removeEventListener("mouseup",f)}var i=this,j=i._view=h(),l=i._input=g("input"),m=i._arrowUp=g("div"),n=i._arrowDown=g("div"),o=i._arrowContainer=g("div");j[c]="ht-widget-spinner",l[c]="spinner-input",m[c]="spinner-button-up",n[c]="spinner-button-down",o[c]="spinner-button-container",l.addEventListener("input",function(){i.setValue(l.value)}),l.addEventListener("blur",function(){l.value=i._value.toFixed(i._precision)}),l.addEventListener("keydown",function(a){13==a.keyCode&&(l.value=i._value.toFixed(i._precision))}),m.addEventListener("mousedown",function(b){l.focus(),b.preventDefault(),d(),i._spinnerTimeoutId=setTimeout(function(){i._spinnerIntervalId=setInterval(d,70)},800),a.addEventListener("mouseup",f)}),n.addEventListener("mousedown",function(b){l.focus(),b.preventDefault(),e(),i._spinnerTimeoutId=setTimeout(function(){i._spinnerIntervalId=setInterval(e,70)},800),a.addEventListener("mouseup",f)}),k(j,l),k(j,o),k(o,m),k(o,n),b&&(i._config=b),i._initConfig()},j("Spinner",b,{_config:{},_defaultValue:0,_defaultStep:1,_defaultMin:-Number.MAX_VALUE,_defaultMax:Number.MAX_VALUE,_defaultArrowWidth:20,_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_initConfig:function(){var a=this,b=a._config;i(a._input,"text-align",b.textAlign||"left"),a._value=b.value||a._defaultValue;var c=a._value,d=b.step||a._defaultStep;a._precision=a._precisionOf(d),a._input.value=c.toFixed(a._precision),a._lastInputvalue=a._input.value},setConfig:function(a){var b=this;b._config=a||{},b._initConfig()},getView:function(){return this._view},getValue:function(){return parseFloat(this._input.value)},setValue:function(a,b){if(null!=a){a=a.toString();var c=this,d=c._input,e=c._config;if("-"===a||""===a||a.indexOf(".")===a.lastIndexOf(".")&&(0===a.indexOf(".")||a.indexOf(".")===a.length-1));else{if(!isNaN(a)){var f=null!=e.min?e.min:c._defaultMin,g=null!=e.max?e.max:c._defaultMax,h=parseFloat(a);if(g>=h&&h>=f)return c._value=parseFloat(h.toFixed(c._precision)),c._lastInputvalue=d.value=b?h.toFixed(c._precision):a,void 0}d.value=c._lastInputvalue}}}})}(this,Object);