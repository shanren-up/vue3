!function(D,p){"use strict";var V="ht",Q=D[V],r="innerHTML",O="className",o=null,L="px",Z=Q.Default,G=Z.getInternal(),b="0",k=function(){return document},P=function(H){return k().createElement(H)},w=function(){return P("div")},U=function(){return P("canvas")},s=function($,b,T){$.style.setProperty(b,T,o)},M=function(J,D,z){Z.def(Q.widget[J],D,z)},N=function(S,$){S.appendChild($)},_=function(G,i){G.removeChild(i)},A=function(z,j,G,d){z.addEventListener(j,G,!!d)},m=function(H,b,Y,v){H.removeEventListener(b,Y,!!v)},T=Z.isTouchable;G.addMethod(Z,{menuLabelFont:(T?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),Q.widget.Menu=function(z){var t=this,e=t._view=w(),V=t.$1g=new Q.widget.ContextMenu,q=P("ul");V._r=!0,V._view[O]+=" ht-widget-dropdownmenu",e[O]="ht-widget-menu",q[O]="header",s(e,"margin",b),s(e,"padding",b),s(e,"background",Z.menuBackground),s(e,"-webkit-user-select","none"),s(e,"-moz-user-select","none"),s(e,"user-select","none"),s(e,"text-align","left"),s(e,"border-bottom",Z.menuSeparatorWidth+"px solid "+Z.menuSeparatorColor),s(e,"cursor","default"),s(e,"overflow","auto"),s(e,"white-space","nowrap"),s(e,"font",Z.menuLabelFont),s(e,"color",Z.menuLabelColor),s(e,"box-sizing","border-box"),s(e,"-moz-box-sizing","border-box"),s(q,"list-style","none"),s(q,"margin",b),s(q,"padding",b),s(q,"display","inline-block"),N(e,q),t.setItems(z),t.$2g=function(V){t.$3g(V)},t.$4g=function(F){t.$5g(F)},t.$6g=function(m){t.$7g(m)},t.$8g=function(J){t.$9g(J)},t.$9b=function(P){t.$10g(P)},t._autoShow=!0,t.setAutoShow(!1),V.afterHide=function(){t.$11g()},V.afterShow=function(){t.$12g()},m(k(),"keydown",V.$3b),t.$3b=function(x){t.$13g(x)},t.invalidate()},M("Menu",p,{_items:o,$14g:Z.menuHoverBackground,$15g:Z.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(J){var o=this;if(o.$21g=J,o.setItems(o._items),"largeicons"===J){for(var P=o._view.querySelectorAll(".header-item"),n=0,I=0;I<P.length;I++){var C=P[I];n=Math.max(n,C.clientWidth)}for(var I=0;I<P.length;I++){var C=P[I];s(C,"min-width",n+L)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(t){this.$22g=t;for(var U=this._view.querySelectorAll(".header-item"),D=0;D<U.length;D++){var g=U[D];s(g,"margin-left",t+L),s(g,"margin-right",t+L)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(X){this.$23g=X;for(var x=this._view.querySelectorAll(".header-item"),q=0;q<x.length;q++){var n=x[q];s(n,"margin-top",X+L),s(n,"margin-bottom",X+L)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(_){this.$24g=_,s(this._view,"text-align",_)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var G=this,Z=G._enableGlobalKey;Z===!1&&(A(k(),"keydown",G.$3b),G._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,m(k(),"keydown",this.$3b)},setHoverBackground:function(y){this.$14g=y},setHoverColor:function(c){this.$15g=c},setItems:function(Q){var S=this,T=S._view,M=S.$21g;if(S._items=Q,T.children[0][r]="",S.$16g={},Q&&Q.length){for(var f=T.children[0],R=0,V=k().createDocumentFragment();R<Q.length;R++){var v=Q[R],K=P("li"),l=P("span");if(v.icon){var _=U();_[O]="menu-item-icon","smallicons"===M?(s(_,"height","1.2em"),s(_,"width","1.2em"),s(_,"vertical-align","middle")):(s(_,"height","32px"),s(_,"width","32px"),s(_,"display","block"),s(_,"margin","0 auto")),_.$20g=v.icon,N(K,_)}K[O]="header-item",s(K,"display","inline-block"),s(K,"vertical-align","top"),s(K,"padding","0 1.2em"),s(K,"line-height","1.8em"),"largeicons"===M&&s(K,"text-align","center"),s(K,"background-color","rgba(0,0,0,0)"),K.setAttribute("data-index",R),S.$16g[R]=v.items,l[r]=v.label,"iconsonly"!==M&&N(K,l),N(V,K)}N(f,V)}},showDropdownMenu:function(b){var o=this,P=o.$16g[b],d=o.$1g,r=o._view.children[0].children[b],U=o.$17g;if(r&&r!==U){U&&o.hideDropdownMenu();var F=r.getBoundingClientRect(),B=Z.getWindowInfo();o.$17g=r,d.setItems(P),d.show(F.left+B.left,F.top+F.height+B.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(L,q){var w=this,N=w._items;return N&&0!==N.length?w.$1g.getItemByProperty(L,q,N):o},$12g:function(){var y=this,S=y.$17g;S.style.background=y.$14g,S.style.color=y.$15g,y._autoShow||A(k(),T?"touchstart":"mousedown",y.$9b)},$11g:function(){var j=this,P=j.$17g;P&&(P.style.background="",P.style.color="",j.$17g=o),m(k(),T?"touchstart":"mousedown",j.$9b)},$10g:function(E){var H=this,w=H._view,W=H.$1g,V=w.children[0];!k().body.contains(w)||V.contains(E.target)||W._view.contains(E.target)||H.hideDropdownMenu()},$13g:function(X){var R=this,$=R.$1g;k().body.contains(R._view)&&$.$13b.$4b.call($.$13b,X,R._items)},setAutoShow:function(U){var Y=this,i=Y.$1g,R=Y._view;Y._autoShow!==U&&(Y._autoShow?(m(R,"mouseover",Y.$2g),m(R,"mouseout",Y.$4g),m(i._view,"mouseout",Y.$4g),T||(A(R,"mouseover",Y.$8g),A(R,"mouseout",Y.$8g)),A(R,T?"touchstart":"mousedown",Y.$6g)):(m(R,"mouseover",Y.$8g),m(R,"mouseout",Y.$8g),m(R,T?"touchstart":"mousedown",Y.$6g),m(k(),T?"touchstart":"mousedown",Y.$9b),T||(A(R,"mouseover",Y.$2g),A(R,"mouseout",Y.$4g),A(i._view,"mouseout",Y.$4g))),Y._autoShow=U)},$3g:function(P){var F=this,d=F._view.children[0],K=P.target;if(d!==K&&d.contains(K)){for(;"header-item"!==K[O];)K=K.parentNode;F.showDropdownMenu(K.getAttribute("data-index"))}},$5g:function(t){var V=this,g=V._view.children[0],N=V.$1g,x=t.target,j=t.relatedTarget;!g.contains(x)&&!N._view.contains(x)||g.contains(j)||N._view.contains(j)||V.hideDropdownMenu()},$7g:function(U){var M=this,v=M._view.children[0],n=M.$1g,l=U.target;if(Z.isLeftButton(U)&&v!==l&&v.contains(l))if(T){for(;"header-item"!==l[O];)l=l.parentNode;var d=l.getAttribute("data-index"),n=M.$1g,m=M._view.children[0].children[d],i=M.$17g;n.isShowing()&&M.hideDropdownMenu(),m!==i&&M.showDropdownMenu(d)}else if(n.isShowing())M.hideDropdownMenu();else{for(;"header-item"!==l[O];)l=l.parentNode;M.showDropdownMenu(l.getAttribute("data-index"))}},$9g:function(n){var W=this,E=W._view,x=W.$1g,u=n.target;if(E.contains(u)){for(var h=E.querySelectorAll(".header-item"),p=o,Z=0;Z<h.length;Z++){var y=h[Z];y.style.background="",y.style.color="","mouseover"===n.type?y.contains(u)&&(p=y):"mouseout"===n.type&&x.isShowing()&&W.$17g===y&&(p=y)}x.isShowing()&&(p||(p=W.$17g),W.showDropdownMenu(p.getAttribute("data-index"))),p&&(p.style.background=W.$14g,p.style.color=W.$15g)}},getShowingMenuIndex:function(){var y=this.$17g;return y?y.getAttribute("data-index"):-1},addTo:function(b){var d=this,E=d._view;N(b,E),d.invalidate()},dispose:function(){var N=this,i=N._view,t=N.$1g;i&&(N._autoShow?(m(i,"mouseover",N.$2g),m(i,"mouseout",N.$4g),m(t._view,"mouseout",N.$4g)):(m(i,"mouseover",N.$8g),m(i,"mouseout",N.$8g),m(i,T?"touchstart":"mousedown",N.$6g),m(k(),T?"touchstart":"mousedown",N.$9b)),m(k(),"keydown",N.$3b),t.dispose(),i.parentNode&&_(i.parentNode,i),N._view=N.$1g=N.$16g=N._items=N.$17g=N.$2g=N.$4g=N.$6g=N.$8g=N.$9b=N.$3b=o)},$19g:function(T,K,I,t){var $=G.initContext(T);G.translateAndScale($,0,0,1),$.clearRect(0,0,I,t),Z.drawStretchImage($,Z.getImage(K),"fill",0,0,I,t),$.restore()},validateImpl:function(){var W,T,U,I=this,V=I._view,L=V.querySelectorAll(".menu-item-icon");for(U=0;U<L.length;U++){var J=L[U];W=J.clientWidth,T=J.clientHeight,W&&T&&(G.setCanvas(J,W,T),I.$19g(J,Z.getImage(J.$20g),W,T))}}})}(this,Object);