!function(v,L,F){"use strict";var O="ht",j=v[O],t=j.Default,d=t.isTouchable,$=j.Color,J="px",Q="0",e="innerHTML",q="className",E="position",r="absolute",C="width",B="height",R="left",c="top",p="right",s="bottom",y="max-width",N="max-height",i=null,S="none",T="",U=v.parseInt,K=v.setTimeout,f=t.getInternal(),w=t.animate,m=$.titleIconBackground,b=function(){return document},P=function(m){return b().createElement(m)},g=function(){return P("div")},I=function(){return P("canvas")},h=function(M,V,W){M.style.setProperty(V,W,i)},x=function(z,H){return z.style.getPropertyValue(H)},n=function(u,P){u.appendChild(P)},u=function(Z,z){Z.removeChild(z)},X=function(E){var Y=E.scrollWidth,S=E.scrollHeight;return E===b().body&&(Y=Math.max(Y,b().documentElement.scrollWidth),S=Math.max(S,b().documentElement.scrollHeight)),{width:Y,height:S}},z=function(k){var K=k.touches[0];return K?K:k.changedTouches[0]};f.addMethod(t,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:m,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:m}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:m},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:m}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:m},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:m}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:m}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:m},{type:"rect",rect:[10,118,268,56],background:m},{type:"rect",rect:[10,213,268,56],background:m}]},panelTitleLabelColor:t.labelSelectColor,panelTitleLabelFont:t.labelFont,panelContentLabelFont:t.labelFont,panelTitleBackground:$.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:F},!0);var A=j.widget.Panel=function(M){var _=this,y=_._view=g();_.$1i=0,_.$18i=new j.Notifier,_.$2i="leftTop",h(y,c,Q),h(y,R,Q),h(y,E,r),h(y,"overflow","hidden"),_._interactor=new W(_),_.setConfig(M),_.addEventListener(function(i){var o=_.getPanelConfig(i.id),T=o.content;("beginRestore"===i.kind||"betweenResize"===i.kind||"endToggle"===i.kind)&&(T&&T.invalidate&&T.invalidate(),o.items&&o.items.forEach(function(r){r&&r.content&&r.content.invalidate&&r.content.invalidate()}))})};t.def(A,L,{ms_v:1,_dragContainment:"parent",setConfig:function(o){function x(p){p.expanded=!p.expanded,v.togglePanel(p.id,!0,!0)}if(o){var v=this;v._view[e]=T,v._config=o,v.$35i=[],o.expanded==i&&(o.expanded=o.expand!=i?o.expand:!0);var M=v._view,X=v.$24i(o,M,!0),N=X[2],R=o.width;v.$35i.push(X[1]),o.items&&o.items.forEach(function(C){C.expanded==i&&(C.expanded=C.expand!=i?C.expand:!0);var O=v.$24i(C,N.children[0]);v.$35i.push(O[1])});var F=g();h(F,C,10+J),h(F,B,10+J),h(F,E,r),h(F,s,Q),h(F,p,Q),F[q]="resize-area",n(M,F),v.$10i(),o.flowLayout&&h(M,E,"relative"),h(M,"opacity",Q),n(b().body,M),R==i&&(R=M.offsetWidth),h(M,C,R+J),h(M,y,R+J),o.items&&o.items.forEach(function(S){x(S)}),o.buttons&&o.buttons.indexOf("toggle")<0||x(o),o.minimized==i&&o.minimize!=i&&(o.minimized=o.minimize),o.minimized&&o.minimizable!==!1&&v.minimize(!0),u(b().body,M),h(M,"opacity",T),v.iv()}},getPanelConfig:function(l){var I=this,h=I._config,e=h.items;if(h.id===l)return h;if(e)for(var f=0;f<e.length;f++){var v=e[f];if(v.id===l)return v}},getPanelView:function(E){for(var R=this,Q=R.$35i,C=0;C<Q.length;C++){var Z=Q[C],M=Z.parentNode;if(M.$15i===E)return M}},setDragContainment:function(p){this._dragContainment=p},getDragContainment:function(){return this._dragContainment},$20i:function(){var Q=this._config,D=Q.restoreIconSize||24;return D},$5i:function(U){var W=U.titleIconSize||16;return d&&(W*=1.2),W},$4i:function(S){var B=S.titleHeight||t.widgetTitleHeight;return B},setTitle:function(d,r){if(r==i&&(r=this._config.id),r!=i){var U=this.getPanelConfig(r),O=this.getPanelView(r);U.title=d,O.querySelector(".panel-title span").innerHTML=d}},setInnerPanel:function(l){var N,P,u=this,D=l.id,c=u.$35i,G=!1;if(l.expanded==i&&(l.expanded=!0),D!=i){var f=u.getPanelConfig(D);if(f){G=!0;var $,C=u.getPanelView(D),q=C.parentNode,t=C.children[0];if(C!==u._view){u.$11i();for($ in f)delete f.key;for($ in l)f[$]=l[$];N=u.$24i(l,q,!1,C),P=N[1],q.removeChild(C);for(var e=0;e<c.length;e++)if(c[e]===t){c.splice(e,1,P);break}u.$12i(),f.expanded=!f.expanded,u.togglePanel(f.id,!0,!0),u.iv()}}}if(!G){u.$11i(),N=u.$24i(l,u._view.children[1]),P=N[1],c.push(P),u._config.items||(u._config.items=[]);var U=u._config.items;if(U.push(l),u.$12i(),U.length>1){var y=U[U.length-2],Y=u.getPanelView(y.id).children[0];h(Y,"border-bottom",u.$55i(y))}l.expanded=!l.expanded,u.togglePanel(l.id,!0,!0),u.iv()}},removeInnerPanel:function(q){var A,z=this,e=-1,o=z._config.items;if(o)for(A=0;A<o.length;A++){var w=o[A];if(w.id===q){e=A;break}}if(z.$11i(),e>=0){var G=z.$35i,Z=z.getPanelView(q),a=Z.children[0];for(A=0;A<G.length;A++)if(G[A]===a){G.splice(A,1);break}o.splice(e,1),Z.parentNode.removeChild(Z)}if(z.$12i(),o.length>0){var c=o[o.length-1],E=z.getPanelView(c.id).children[0];h(E,"border-bottom",z.$55i(c))}},$6i:function(X){h(X,"cursor","pointer"),h(X,"display","inline-block"),h(X,"margin-right",(d?8:4)+J),h(X,"vertical-align",c)},$24i:function(w,K,l,G){var Z=this,T=Z._config.flowLayout,$=l?K:g(),y=Z.$50i(w),a=Z.$3i(w,l);$[q]="ht-widget-panel"+(l?" outer-panel":" inner-panel"),w.borderWidth==i&&(w.borderWidth=l?2:0);var p=w.borderWidth;if(p="0 "+p+J+" "+p+J+" "+p+J+" ",h($,"padding",p),n($,a),n($,y),l||(G?K.insertBefore($,G):n(K,$)),!T&&l&&w.minimizable!==!1){var W=I(),s=Z.$20i(),D=w.restoreToolTip;f.setCanvas(W,s,s),W[q]="control-button button-minimize button-minimize-restore",Z.$6i(W),h(W,"display","none"),n(K,W),W.title=D||""}var x=w.titleBackground||t.panelTitleBackground;if(h($,"background-color",x),w.id==i){for(var r=Z.$1i++;Z.getPanelConfig(r);)r=Z.$1i++;w.id=r}return $.$15i=w.id,w.width&&($.style.width=w.width+J),[$,a,y]},$9i:function(e){var S=I();S[q]="control-button button-toggle button-toggle-expand",S.title=e.toggleToolTip||"";var k=this.$4i(e),r=this.$5i(e);return this.$6i(S),f.setCanvas(S,r,k),S},$8i:function($){var d=I(),R="control-button button-independent-switch";d[q]=$.independent===!0?R+" button-independent-switch-on":R+" button-independent-switch-off",d.title=$.independentSwitchToolTip||"";var p=this.$4i($),Y=this.$5i($);return this.$6i(d),f.setCanvas(d,Y,p),d},$7i:function(n){var N=I();N[q]="control-button button-minimize button-minimize-minimize",N.title=n.minimizeToolTip||"";var X=this.$4i(n),V=this.$5i(n);return this.$6i(N),f.setCanvas(N,V,X),N},$55i:function(C){var K=this._config,Q=K.items,D=C.separatorWidth||t.panelSeparatorWidth,c=C.titleBackground||t.panelTitleBackground,j=C.expanded!==!1?c:C.separatorColor||t.panelSeparatorColor||t.brighter(c);return(K===C||Q&&Q.indexOf(C)===Q.length-1)&&(D=0),D+J+" solid "+j},$3i:function(M,U){var W=this,Y=W._config.flowLayout,N=g(),u=g(),B=W.$4i(M),m=M.titleBackground,V=M.titleColor,y=M.titleIcon,x=M.buttons;if(N[q]="panel-title",h(N,E,"relative"),h(N,"background",m||t.panelTitleBackground),h(N,"color",V||t.panelTitleLabelColor),h(N,c,Q),h(N,"box-sizing","border-box"),h(N,"-moz-box-sizing","border-box"),h(N,"padding","0 5px 0 0"),h(N,C,"100%"),h(N,"cursor","default"),h(N,"white-space","nowrap"),h(N,"font",t.panelTitleLabelFont),y){var k=I();k[q]="control-button panel-title-icon";var d=W.$4i(M),K=W.$5i(M);W.$6i(k),f.setCanvas(k,K,d),n(N,k)}var i=P("span");h(i,"display","inline-block"),h(i,"margin-left","5px"),i[e]="<span>"+M.title+"</span>",n(N,i),h(N,"line-height",B+J),u[q]="panel-title-controls",h(u,E,r),h(u,R,Q),h(u,p,5+J),h(u,c,Q),h(u,s,Q),h(u,"text-align",p);var F=function(){var B=W.$9i(M);n(u,B)},o=function(){if(!Y&&U&&M.minimizable!==!1){var P=W.$7i(M);n(u,P)}},j=function(){if(!U){var d=W.$8i(M);n(u,d)}},D=function(y){var i=I();i[q]="control-button custombutton-"+y.name,i.title=y.toolTip||"",i._action=y.action;var l=W.$4i(M),B=W.$5i(M);W.$6i(i),f.setCanvas(i,B,l),n(u,i)};if(x)for(var z=0;z<x.length;z++){var L=x[z];"string"==typeof L?"minimize"===L?o():"independentSwitch"===L?j():"toggle"===L&&F():"object"==typeof L&&D(L)}else o(),F();return n(N,u),N},$50i:function(Z){var S=g(),k=Z.contentHeight,I=g();if(h(I,E,"relative"),S[q]="panel-body",h(S,"overflow","hidden"),h(S,"background","white"),h(S,"font",t.panelContentLabelFont),n(S,I),Z.content){var H;Z.content.getView?(n(I,Z.content.getView()),H=I.children[0]):Z.content instanceof Element?(n(I,Z.content),H=I.children[0]):I[e]=Z.content,H&&(h(H,C,"100%"),h(H,B,"100%")),k&&h(I,B,k+J)}return S},$10i:function(){var g=this,L=g._config,f=g._view,U=f.querySelector(".resize-area").style;U.display=L.flowLayout||L.minimized===!0||L.expanded===!1?S:"block"},$11i:function(){var B=this._view,q=B.children[1];this.$13i>=0?this.$13i++:this.$13i=1,h(q,N,T),h(B,y,T)},$12i:function(){var L=--this.$13i;if(0===L){var j=this._view,q=j.children[1];h(q,N,q.scrollHeight+J),h(j,y,j.offsetWidth+J)}},$14i:function(){var n=this._view,d=n.children[0],g=d.children[1].children,q=this._config,A=0;n.$26i=n.offsetWidth,A+=d.children[0].offsetWidth,q.titleIcon&&(A+=d.children[1].offsetWidth,g=d.children[2].children);for(var O=0;O<g.length;O++){var R=g[O];A+=R.offsetWidth+5}n.$51i=A+15},togglePanel:function(F,E,b){function t(N){var $=N.target,V=$.parentNode,h=I.getPanelConfig(V.$15i);delete V.$19i,$!==x&&I.$12i(),I.$18i.fire({kind:"endToggle",target:I,id:h.id})}for(var I=this,H=I._view,x=H.children[1],G=i,f=I.$35i,v=f.length,p=I._config.exclusive,S=I.$2i,R=[],V=I._config.narrowWhenCollapse,A=0;v>A;A++){var l=f[A],n=l.parentNode,s=n.$15i,Z=I.getPanelConfig(s);s===F&&(G=n),!E&&p&&Z.expanded&&n!==H&&s!==F&&Z.independent!==!0&&R.push(n)}if(G&&!G.$19i){G.$19i=!0;var o=G.children[1],L=G.querySelector(".button-toggle"),d=I.getPanelConfig(G.$15i);if(!L)return;G===H||d.expanded||d.independent===!0||R.forEach(function(n){I.togglePanel(n.$15i,!0)}),G!==H&&I.$11i();var j=200;if(b&&(j=0),I.$18i.fire({kind:"beginToggle",target:I,id:G.$15i}),d.expanded){var k=function(){L[q]="control-button button-toggle",L[q]+=S.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",h(o,C,o.clientWidth+J),d.expanded=!1,h(G.children[0],"border-bottom",I.$55i(d)),w(o).duration(j).set("opacity",Q).set(N,Q).end(t),V&&G===H&&w(G).duration(j).set(y,G.$51i+J).end(),G[q]+=" panel-collapse",w(G).duration(j).set("padding-bottom",Q).end(),I.$28i(d,!0),I.$10i()};V&&G===H&&I.$14i(),k()}else L[q]="control-button button-toggle",L[q]+=S.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",h(o,C,T),d.expanded=!0,h(G.children[0],"border-bottom",I.$55i(d)),w(o).duration(j).set("opacity","1").set(N,o.scrollHeight+J).end(t),V&&G===H&&w(G).duration(j).set(y,(G.$26i||G.offsetWidth)+J).end(),G[q]=G[q].replace(" panel-collapse",T),w(G).duration(j).set("padding-bottom",d.borderWidth+J).end(),I.$28i(d,!0),I.$10i()}},$16i:function(){var r=this._view,y=r.$22i,Y=r.$23i,v=this.$2i;return y==i&&(v.indexOf(R)>=0?y=r.$22i=0:v.indexOf(p)>=0&&(y=r.$22i=100)),Y==i&&(v.indexOf("Top")>=0?Y=r.$23i=0:v.indexOf("Bottom")>=0&&(Y=r.$23i=100)),[y,Y]},$25i:function(){var m=this,l=m._view,G=l.$21i,t=m.$20i(),F=m.$16i(),Z=F[0],V=F[1],L=m.$2i;l.children[0].style.display=S,l.children[1].style.display=S,l.children[2].style.display=T,h(l,"padding",Q),h(l,y,t+J),"leftTop"===L?(h(l,R,U(x(l,R))+(G.width-t)*Z/100+J),h(l,c,U(x(l,c))+(G.height-t)*V/100+J)):"leftBottom"===L?(h(l,R,U(x(l,R))+(G.width-t)*Z/100+J),h(l,s,U(x(l,s))+(G.height-t)*(1-V/100)+J)):"rightTop"===L?(h(l,p,U(x(l,p))+(G.width-t)*(1-Z/100)+J),h(l,c,U(x(l,c))+(G.height-t)*V/100+J)):"rightBottom"===L&&(h(l,p,U(x(l,p))+(G.width-t)*(1-Z/100)+J),h(l,s,U(x(l,s))+(G.height-t)*(1-V/100)+J)),l[q]+=" panel-minimized",m.$18i.fire({kind:"endMinimize",target:m,id:l.$15i})},$17i:function(){var M=this,J=M._config,j=M._view;h(j,"-webkit-transform",T),h(j,"-ms-transform",T),h(j,"transform",T),J.minimized?M.$25i():(M.$18i.fire({kind:"endRestore",target:M,id:J.id}),j[q]=j[q].replace(" panel-minimized",T)),delete j.$19i},minimize:function(K){var y=this,x=y._view;if(!x.$19i&&x.children[0].style.display!==S){var b=y._config,Y=x.getBoundingClientRect(),C=y.$20i(),d=Y.width,n=Y.height,o=C/d,T=C/n,a=y.$16i(),D=a[0],j=a[1];x.$52i=o,x.$53i=T,x.$21i=Y,y.$18i.fire({kind:"beginMinimize",target:y,id:x.$15i});var F=200;K&&(F=0),b.minimized=!0,x.$19i=!0,b.expanded&&(x.$26i=x.offsetWidth);var A=D+"% "+j+"%";h(x,"-webkit-transform-origin",A),h(x,"-ms-transform-origin",A),h(x,"transform-origin",A),w(x).duration(F).scale(o,T).end(function(){y.$17i()}),y.$10i()}},restore:function(){var M,r,$,f,V,b,t,j,G,F,d,i,O=this,l=O._view,a=l.parentNode,C=O._config;if(!l.$19i&&C.minimized){var m=l.$21i,D=l.$52i,g=l.$53i,P=C.borderWidth+J,E=P,v=P,B=0,e=O.$20i(),T=X(a),_=O.$2i;"leftTop"===_?(M=U(x(l,R)),$=U(x(l,c)),V=M,t=$,G=M+m.width-T.width,F=$+m.height-T.height,G>0&&(G>=M?M=0:M-=G),F>0&&(F>=$?$=0:$-=F),d=100*((V-M)/(m.width-e)),i=100*((t-$)/(m.height-e)),h(l,R,M+J),h(l,c,$+J)):"leftBottom"===_?(M=U(x(l,R)),f=U(x(l,s)),V=M,j=f,G=M+m.width-T.width,F=f+m.height-T.height,G>0&&(G>=M?M=0:M-=G),F>0&&(F>=f?f=0:f-=F),d=100*((V-M)/(m.width-e)),i=100*(1-(j-f)/(m.height-e)),h(l,R,M+J),h(l,s,f+J)):"rightTop"===_?(r=U(x(l,p)),$=U(x(l,c)),b=r,t=$,G=r+m.width-T.width,F=$+m.height-T.height,G>0&&(G>=r?r=0:r-=G),F>0&&(F>=$?$=0:$-=F),d=100*(1-(b-r)/(m.width-e)),i=100*((t-$)/(m.height-e)),h(l,p,r+J),h(l,c,$+J)):"rightBottom"===_&&(r=U(x(l,p)),f=U(x(l,s)),b=r,j=f,G=r+m.width-T.width,F=f+m.height-T.height,G>0&&(G>=r?r=0:r-=G),F>0&&(F>=f?f=0:f-=F),d=100*(1-(b-r)/(m.width-e)),i=100*(1-(j-f)/(m.height-e)),h(l,p,r+J),h(l,s,f+J)),l.children[0].style.display="block",l.children[1].style.display="block",l.children[2].style.display=S,h(l,"padding",B+" "+E+" "+v+" "+P),h(l,"-webkit-transform","scale("+D+", "+g+")"),h(l,"-ms-transform","scale("+D+", "+g+")"),h(l,"transform","scale("+D+", "+g+")"),l.$22i=d,l.$23i=i,h(l,"-webkit-transform-origin",d+"% "+i+"%"),h(l,"-ms-transform-origin",d+"% "+i+"%"),h(l,"transform-origin",d+"% "+i+"%"),C.narrowWhenCollapse&&!C.expanded?h(l,y,l.$51i+J):h(l,y,l.$26i+J),O.$18i.fire({kind:"beginRestore",target:O,id:l.$15i}),l.$19i=!0,C.minimized=!1,K(function(){w(l).scale(1,1).end(function(){O.$17i()})},30),O.$10i()}},addEventListener:function(X,t,Q){this.$18i.add(X,t,Q)},removeEventListener:function(_,P){this.$18i.remove(_,P)},setPosition:function(K,w){var k=this._view,o=this.$2i;"leftTop"===o?(h(k,R,K+J),h(k,c,w+J),h(k,p,T),h(k,s,T)):"leftBottom"===o?(h(k,R,K+J),h(k,s,w+J),h(k,p,T),h(k,c,T)):"rightTop"===o?(h(k,p,K+J),h(k,c,w+J),h(k,R,T),h(k,s,T)):"rightBottom"===o&&(h(k,p,K+J),h(k,s,w+J),h(k,R,T),h(k,c,T)),delete k.$22i,delete k.$23i},getPosition:function(){var N=this._view,k=this.$2i;return"leftTop"===k?{x:U(x(N,R)),y:U(x(N,c))}:"leftBottom"===k?{x:U(x(N,R)),y:U(x(N,s))}:"rightTop"===k?{x:U(x(N,p)),y:U(x(N,c))}:"rightBottom"===k?{x:U(x(N,p)),y:U(x(N,s))}:void 0},setPositionRelativeTo:function(i){var Q=this,M=Q._view.querySelectorAll(".button-toggle"),o="control-button button-toggle",H=Q.getPosition();Q.$2i=i,Q.setPosition(H.x,H.y);for(var f=0;f<M.length;f++){var t=M[f],W=Q.getPanelConfig(t.parentNode.parentNode.parentNode.$15i);t[q]=W.expanded?i.indexOf("Bottom")>=0?o+" button-toggle-collapse":o+" button-toggle-expand":i.indexOf("Bottom")>=0?o+" button-toggle-expand":o+" button-toggle-collapse"}Q.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(c){var X=this;X._68I||(X._68I=1,t.callLater(X.validate,X,i,c),X.onInvalidated&&X.onInvalidated(),X._41O("invalidate"));var n=this._config,b=n.content;b&&b.invalidate&&b.invalidate(),n.items&&n.items.forEach(function(M){M&&M.content&&M.content.invalidate&&M.content.invalidate()})},$27i:function(N,c,Y,G){var I=f.initContext(N);f.translateAndScale(I,0,0,1),I.clearRect(0,0,Y,Y);var u=(Y-G)/2;t.drawStretchImage(I,t.getImage(c),"fill",0,u,G,G),I.restore()},$28i:function(w){var F,C,f,I=this,M=w.id,G=I.getPanelView(M),n=G.querySelector(".button-toggle"),m=I.$2i.indexOf("Bottom")>=0;if(C=m?t.panelCollapseIcon:t.panelExpandIcon,f=m?t.panelExpandIcon:t.panelCollapseIcon,n){F=w.expanded?t.getImage(f):t.getImage(C);var S=I.$4i(w),h=I.$5i(w);I.$27i(n,F,S,h)}},$29i:function(v){var G,x=this,l=v.id,P=x.getPanelView(l),M=P.querySelector(".button-independent-switch"),w=t.panelUnLockIcon,r=t.panelLockIcon;if(M){G=v.independent!==!0?t.getImage(r):t.getImage(w);var E=x.$4i(v),C=x.$5i(v);x.$27i(M,G,E,C)}},$30i:function(c){var d=this,q=c.id,F=d.getPanelView(q),r=F.querySelector(".button-minimize-minimize"),e=t.panelMinimizeIcon;if(r){var O=d.$4i(c),B=d.$5i(c);d.$27i(r,t.getImage(e),O,B)}},$31i:function(a){var v=this,r=a.id,E=v.getPanelView(r),p=E.querySelector(".button-minimize-restore"),H=a.titleIcon||t.panelRestoreIcon;if(p){var C=v.$20i();v.$27i(p,t.getImage(H),C,C)}},$32i:function(z){var L=this,J=z.id,G=L.getPanelView(J);if(z.buttons){var b=z.buttons;b.forEach(function(F){var a=F.name,k=F.icon;if(a&&k){var Q=G.querySelector(".custombutton-"+a);if(Q){var h=L.$4i(z),P=L.$5i(z)-1;L.$27i(Q,t.getImage(k),h,P)}}})}},$33i:function(A){var R=this,g=A.id,E=R.getPanelView(g),B=E.querySelector(".panel-title-icon"),$=A.titleIcon;if(B&&$){var e=R.$4i(A),m=R.$5i(A);R.$27i(B,t.getImage($),e,m)}},validateImpl:function(){var q=this,i=q._config;q.$28i(i),q.$30i(i),q.$31i(i),q.$32i(i),q.$33i(i),i.items&&i.items.forEach(function(Q){q.$28i(Q),q.$29i(Q),q.$32i(Q)})}});var W=function(R){var i=this,o=R.getView();i.$34i=R,i.addListeners(),o.addEventListener("dblclick",i.$42i.bind(i))};t.def(W,L,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(l){for(var R=this.$34i,a=l.target,j=R.$35i,Y=j.length,v=0;Y>v;v++){var m=j[v];m.contains(a)&&(l.preventDefault(),R.togglePanel(m.parentNode.$15i))}},handle_touchstart:function(M){var B=this,u=B.$34i,c=u._config,L=c.flowLayout,Y=M;if(t.preventDefault(M),t.isLeftButton(M)){var i=M.target,r=u.getView().children[0],q=u.getView().querySelector(".button-minimize-restore");d&&(Y=z(M));var l=B.$40i={x:Y.pageX,y:Y.pageY};B.$41i={x:l.x,y:l.y},(!L&&r.contains(i)||q&&q.contains(i))&&(B.$38i=!0,t.startDragging(B,M)),!L&&B.handle_mousemove(M)&&(B.$37i=!0,t.startDragging(B,M),u.$11i())}},handle_mousedown:function(Y){this.handle_touchstart(Y)},handle_touchend:function(l){var y=this,h=y.$34i,k=l.target,F=h.$35i,T=F.length,u=0,m=h.getView(),f=m.querySelector(".button-minimize"),j=m.querySelector(".button-minimize-restore");if(!y.$39i&&!y.$36i){if(f&&f.contains(k)||j&&j.contains(k))l.preventDefault(),h._config.minimized?h.restore():h.minimize();else for(;T>u;u++){var $=F[u],a=$.parentNode,O=a.$15i,C=h.getPanelConfig(O),e=$.querySelector(".button-toggle"),Z=$.querySelector(".button-independent-switch");if(e===k)l.preventDefault(),h.togglePanel(O);else if(Z===k){l.preventDefault();var I="button-independent-switch-off",X="button-independent-switch-on";C.independent=C.independent==i?!0:!C.independent,Z[q]=C.independent?Z[q].replace(I,X):Z[q].replace(X,I),h.$29i(C)}else k[q]&&k[q].indexOf("control-button custombutton-")>=0&&$.contains(k)&&k._action.call(h,C,h.getPanelView(O),l)}delete y.$40i,delete y.$41i}},handle_mouseup:function(g){this.handle_touchend(g)},handleWindowTouchEnd:function(){var I=this,S=I.$34i;I.$37i&&I.$36i?(S.$18i.fire({kind:"endResize",target:S,id:S.getView().$15i}),S.$12i()):I.$38i&&I.$39i&&S.$18i.fire({kind:"endMove",target:S,id:S.getView().$15i}),this.clear()},handleWindowMouseUp:function(l){this.handleWindowTouchEnd(l)},handle_mousemove:function(L){var y=this,X=y.getView(),G=X.querySelector(".resize-area"),Q=G.getBoundingClientRect(),q={x:Q.left,y:Q.top,width:Q.width,height:Q.height};L=d?z(L):L;var J=L.clientX,N=L.clientY,g=y.$34i._config;return g.expanded&&g.minimized!==!0&&t.containsPoint(q,{x:J,y:N})?(X.style.cursor="nwse-resize",!0):(X.style.cursor=T,void 0)},handleWindowTouchMove:function(N){N.preventDefault();var r=N;d&&(r=z(N));var b=this,e=b.$40i,D=b.$41i;if(!(D.x==e.x&&D.y==e.y&&t.getDistance(D,{x:r.pageX,y:r.pageY})<=1)){var K=b.$34i,m=b.getView(),S=m.parentNode,L=K._config,M=L.resizeMode||"wh",f=r.pageX-e.x,$=r.pageY-e.y,F=K.$2i;if(b.$37i){var w=m.children[1].children[0],V=w.clientWidth,l=w.clientHeight,k=V+f,Z=l+$;k=Math.max(k,100),Z=Math.max(Z,100),"w"===M?(h(m,C,k+J),L.width=k,e.x+=k-V,F.indexOf(p)>=0&&h(m,p,U(x(m,p))-(k-V)+J)):"h"===M?(h(w,B,Z+J),L.contentHeight=Z,e.y+=Z-l,F.indexOf("Bottom")>=0&&h(m,s,U(x(m,s))-(Z-l)+J)):"wh"===M&&(h(m,C,k+J),h(w,B,Z+J),L.width=k,L.contentHeight=Z,e.x+=k-V,e.y+=Z-l,F.indexOf("right")>=0&&h(m,p,U(x(m,p))-(k-V)+J),F.indexOf("Bottom")>=0&&h(m,s,U(x(m,s))-(Z-l)+J)),b.$36i?K.$18i.fire({kind:"betweenResize",target:K,id:K.getView().$15i}):(b.$36i=!0,K.$18i.fire({kind:"beginResize",target:K,id:K.getView().$15i}))}else if(b.$38i){var u,O,P,g,I,Y,j,E,H,v,Q=m.getBoundingClientRect(),q=Q.width,A=Q.height,n=X(S),G=n.width,o=n.height,_=K._dragContainment;"leftTop"===F?(u=U(x(m,R))||0,P=U(x(m,c))||0,I=u+f,j=P+$,"parent"===_&&(I+q>G&&(I=G-q),j+A>o&&(j=o-A),0>I&&(I=0),0>j&&(j=0)),H=I-u,v=j-P,K.setPosition(I,j),e.x+=H,e.y+=v):"rightBottom"===F?(O=U(x(m,p))||0,g=U(x(m,s))||0,Y=O-f,E=g-$,"parent"===_&&(0>Y&&(Y=0),0>E&&(E=0),Y+q>G&&(Y=G-q),E+A>o&&(E=o-A)),H=Y-O,v=E-g,K.setPosition(Y,E),e.x-=H,e.y-=v):"rightTop"===F?(O=U(x(m,p))||0,P=U(x(m,c))||0,Y=O-f,j=P+$,"parent"===_&&(0>Y&&(Y=0),0>j&&(j=0),Y+q>G&&(Y=G-q),j+A>o&&(j=o-A)),H=Y-O,v=j-P,K.setPosition(Y,j),e.x-=H,e.y+=v):"leftBottom"===F&&(u=U(x(m,R))||0,g=U(x(m,s))||0,I=u+f,E=g-$,"parent"===_&&(0>I&&(I=0),0>E&&(E=0),I+q>G&&(I=G-q),E+A>o&&(E=o-A)),H=I-u,v=E-g,K.setPosition(I,E),e.x+=H,e.y-=v),b.$39i?K.$18i.fire({kind:"betweenMove",target:K,id:K.getView().$15i}):(b.$39i=!0,K.$18i.fire({kind:"beginMove",target:K,id:K.getView().$15i}))}}},handleWindowMouseMove:function(B){this.handleWindowTouchMove(B)}});var k=j.widget.PanelGroup=function(S){var k=this,Q=k._view=g();Q.style.border="1px dashed black",Q.style.position="absolute",Q.style.background="rgba(120, 120, 120, 0.4)",k.$48i=new j.List,k._tolerance=100,k._config=S||{hGap:0,vGap:0},k.bindHandlePanelMove=k.handlePanelMove.bind(k),k.bindHandlePanelEvent=k.handlePanelEvent.bind(k),k.invalidate()};t.def(k,L,{invalidate:function(){var D=this;D._68I||(D._68I=1,K(function(){D.validate()},50))},validate:function(){if(this._68I){delete this._68I;var J=this.$48i.get(0);if(J){var v=J.getView().parentNode;v&&(this.layoutPanels(v,"leftTop"),this.layoutPanels(v,"rightTop"),this.layoutPanels(v,"leftBottom"),this.layoutPanels(v,"rightBottom"))}}},setLeftTopPanels:function(){var S=this,n=S.$43i,H=S.$48i;n==i&&(n=S.$43i=new j.List);for(var M=0;M<arguments.length;M++){var L=arguments[M];if("string"==typeof L)n.$49i=L;else{if(L._config.flowLayout)continue;L.setPositionRelativeTo("leftTop"),n.contains(L)||n.add(L),H.contains(L)||S.add(L)}}},setRightTopPanels:function(){var z=this,U=z.$44i,O=z.$48i;U==i&&(U=z.$44i=new j.List);for(var f=0;f<arguments.length;f++){var g=arguments[f];if("string"==typeof g)U.$49i=g;else{if(g._config.flowLayout)continue;g.setPositionRelativeTo("rightTop"),U.contains(g)||U.add(g),O.contains(g)||z.add(g)}}},setLeftBottomPanels:function(){var l=this,D=l.$45i,B=l.$48i;D==i&&(D=l.$45i=new j.List);for(var V=0;V<arguments.length;V++){var T=arguments[V];if("string"==typeof T)D.$49i=T;else{if(T._config.flowLayout)continue;T.setPositionRelativeTo("leftBottom"),D.contains(T)||D.add(T),B.contains(T)||l.add(T)}}},setRightBottomPanels:function(){var o=this,G=o.$46i,g=o.$48i;G==i&&(G=o.$46i=new j.List);for(var v=0;v<arguments.length;v++){var N=arguments[v];if("string"==typeof N)G.$49i=N;else{if(N._config.flowLayout)continue;N.setPositionRelativeTo("rightBottom"),G.contains(N)||G.add(N),g.contains(N)||o.add(N)}}},add:function(M){if(!M._config.flowLayout){var R=this,I=R.$48i;I.contains(M)||(M.addEventListener(R.bindHandlePanelMove),M.addEventListener(R.bindHandlePanelEvent),I.add(M))}},remove:function(u){var K=this,v=K.$48i;v.contains(u)&&(u.removeEventListener(K.bindHandlePanelMove),u.removeEventListener(K.bindHandlePanelEvent),v.remove(u),K.$43i.contains(u)&&K.$43i.remove(u),K.$44i.contains(u)&&K.$44i.remove(u),K.$45i.contains(u)&&K.$45i.remove(u),K.$46i.contains(u)&&K.$46i.remove(u))},layoutPanels:function(L,y,G){var _=this,s=_._config,D=s.hGap||0,P=s.vGap||0;if(L){var C=_.$43i;if("leftBottom"===y?C=_.$45i:"rightTop"===y?C=_.$44i:"rightBottom"===y&&(C=_.$46i),!C)return;var d=C.$49i,o=D,O=P;if(L.contains(_._view)&&L.removeChild(_._view),C&&C.size()>0)for(var R=0;R<C.size();R++){var H=C.get(R),p=H.getView();L=L||p.parentNode,G!==R?H.setPosition(o,O):("leftTop"===y?(_._view.style.right="",_._view.style.bottom="",_._view.style.left=o+J,_._view.style.top=O+J):"leftBottom"===y?(_._view.style.right="",_._view.style.top="",_._view.style.left=o+J,_._view.style.bottom=O+J):"rightTop"===y?(_._view.style.left="",_._view.style.bottom="",_._view.style.right=o+J,_._view.style.top=O+J):"rightBottom"===y&&(_._view.style.left="",_._view.style.top="",_._view.style.right=o+J,_._view.style.bottom=O+J),_._view.style.width=p.offsetWidth+J,_._view.style.height=p.offsetHeight+J,L.insertBefore(_._view,p)),"h"===d?o+=p.offsetWidth+D:"v"===d&&(O+=p.offsetHeight+P)}}},handlePanelEvent:function(M){if("beginToggle"===M.kind||"endToggle"===M.kind||"beginRestore"===M.kind||"endMinimize"===M.kind||"endResize"===M.kind){var p=this,A=M.target,k=A.getView(),O=k.parentNode,X=p.$43i,w=p.$44i,b=p.$45i,t=p.$46i,q=p._config,c=i,d=i,Y=A.$47i;if(Y==i&&(Y=A.$47i=0),"beginToggle"===M.kind?Y=A.$47i=Y+1:"endToggle"===M.kind&&(Y=A.$47i=Y-1),X&&X.contains(A)?(c="leftTop",d=X):b&&b.contains(A)?(c="leftBottom",d=b):w&&w.contains(A)?(c="rightTop",d=w):t&&t.contains(A)&&(c="rightBottom",d=t),"beginToggle"===M.kind&&c&&1===Y){var n=g(),a=n.style,D=d.$49i,m="each";a.fontSize="0",a.position="absolute",a.width="100%","leftTop"===c?(a.left=0,a.top=0):"leftBottom"===c?(a.left=0,a.bottom=0,"v"===D&&(m="reverseEach")):"rightTop"===c?(a.right=0,a.top=0,a.textAlign="right","h"===D&&(m="reverseEach")):"rightBottom"===c&&(a.right=0,a.bottom=0,a.textAlign="right",m="reverseEach"),d[m](function(L){var y=L.getView(),C=y.style,V=g();C.position="static",V.style.textAlign="left",V.style.position="relative",V.style.display="inline-block","leftTop"===c?(V.style.marginLeft=q.hGap+J,V.style.marginTop=q.vGap+J):"leftBottom"===c?(V.style.marginLeft=q.hGap+J,V.style.marginBottom=q.vGap+J):"rightTop"===c?(V.style.marginRight=q.hGap+J,V.style.marginTop=q.vGap+J):"rightBottom"===c&&(V.style.marginRight=q.hGap+J,V.style.marginBottom=q.vGap+J),V.appendChild(y),n.appendChild(V),"h"===D?V.style.verticalAlign="leftTop"===c||"rightTop"===c?"top":"bottom":n.appendChild(P("br"))}),p.$54i=n,O.appendChild(n)}else"endToggle"===M.kind&&c&&0===Y?K(function(){O=O.parentNode.parentNode,O.removeChild(p.$54i),delete p.$54i,d.each(function(Z){var e=Z.getView(),p=e.style;p.position="absolute",O.appendChild(e)}),p.layoutPanels(O,c)},30):("beginRestore"===M.kind||"endMinimize"===M.kind||"endResize"===M.kind)&&c&&p.layoutPanels(O,c)}},handlePanelMove:function(B){if(!(B.kind.indexOf("Move")<0)){var J=this,q=J._config,F=q.hGap||0,S=q.vGap||0,C=B.target,u=C._view,T=u.getBoundingClientRect(),A=T.width,L=T.height,o=A/2,v=L/2,w=u.parentNode,x=J.$43i,p=J.$44i,g=J.$45i,_=J.$46i,X=w.getBoundingClientRect(),P=J._tolerance;if("endMove"===B.kind){var d=J._corner;d&&(C.setPositionRelativeTo(d),J.layoutPanels(w,d)),delete J._corner}if("betweenMove"===B.kind){var n=X.left,t=X.top,R=X.width,c=X.height,z=T.left+A/2,h=T.top+L/2;x==i&&(x=J.$43i=new j.List),g==i&&(g=J.$45i=new j.List),p==i&&(p=J.$44i=new j.List),_==i&&(_=J.$46i=new j.List),delete J._corner,x.contains(C)?(x.remove(C),J.layoutPanels(w,"leftTop")):g.contains(C)?(g.remove(C),J.layoutPanels(w,"leftBottom")):p.contains(C)?(p.remove(C),J.layoutPanels(w,"rightTop")):_.contains(C)&&(_.remove(C),J.layoutPanels(w,"rightBottom"));var O=function(d,E){var L=n+F,Z=t+S;if(0===E.size()){var u=L+o,X=Z+v;"leftBottom"===d?X=t+c-S-v:"rightTop"===d?u=n+R-F-o:"rightBottom"===d&&(u=n+R-F-o,X=t+c-S-v);var j=z-u,K=h-X,W=Math.sqrt(j*j+K*K);if(P>W)return J._corner=d,E.add(C),J.layoutPanels(w,d,0),!0}else if(1===E.size()){var l=E.get(0),D=l.getView().getBoundingClientRect(),m=D.left+o,_=D.top+v,I=D.left+D.width+F+o,Q=Z+v,H=L+o,k=D.top+D.height+S+v;"leftBottom"===d?(_=D.top+D.height-v,Q=t+c-S-v,k=D.top-S-v):"rightTop"===d?(m=D.left+D.width-o,I=D.left-F-o,H=n+R-F-o):"rightBottom"===d&&(m=D.left+D.width-o,_=D.top+D.height-v,I=D.left-F-o,Q=t+c-S-v,H=n+R-F-o,k=D.top-S-v);var M=z-m,g=h-_,q=z-I,T=h-Q,a=z-H,A=h-k,Y=U(Math.sqrt(M*M+g*g)),G=U(Math.sqrt(q*q+T*T)),y=U(Math.sqrt(a*a+A*A)),s=[Y,G,y];s.sort(function(Q,z){return Q-z});var N=s[0];if(P>N){if(J._corner=d,N===Y)return E.add(C,0),J.layoutPanels(w,d,0),!0;if(N===G)return E.add(C),E.$49i="h",J.layoutPanels(w,d,1),!0;if(N===y)return E.add(C),E.$49i="v",J.layoutPanels(w,d,1),!0}}else if(E.size()>1){for(var b=i,e={},f=[],O=E.$49i,r=0;r<E.size();r++){var V=E.get(r),x=V.getView(),p=x.getBoundingClientRect(),B=p.left+o,$=p.top+v;"leftBottom"===d?$=p.top+p.height-v:"rightTop"===d?B=p.left+p.width-o:"rightBottom"===d&&(B=p.left+p.width-o,$=p.top+p.height-v),r===E.size()-1&&(b=p);var j=z-B,K=h-$,W=U(Math.sqrt(j*j+K*K));e[W]=r,f.push(W)}"leftTop"===d&&"h"===O?(u=b.left+b.width+F+o,X=Z+v):"leftTop"===d&&"v"===O?(u=L+o,X=b.top+b.height+S+v):"leftBottom"===d&&"h"===O?(u=b.left+b.width+F+o,X=t+c-S-v):"leftBottom"===d&&"v"===O?(u=L+o,X=b.top-S-v):"rightTop"===d&&"h"===O?(u=b.left-F-o,X=Z+v):"rightTop"===d&&"v"===O?(u=n+R-F-o,X=b.top+b.height+S+v):"rightBottom"===d&&"h"===O?(u=b.left-F-o,X=t+c-S-v):"rightBottom"===d&&"v"===O&&(u=n+R-F-o,X=b.top-S-v),j=z-u,K=h-X,W=U(Math.sqrt(j*j+K*K)),e[W]=r,f.push(W),f.sort(function(c,s){return c-s});var N=f[0];if(P>N)return J._corner=d,E.add(C,e[N]),J.layoutPanels(w,d,e[N]),!0}};O("leftTop",x)||O("leftBottom",g)||O("rightTop",p)||O("rightBottom",_)}}}})}(this,Object);