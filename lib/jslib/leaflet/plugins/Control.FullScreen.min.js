!function(){L.Control.FullScreen=L.Control.extend({options:{position:"topright",title:"Full Screen",forceSeparateButton:!1},onAdd:function(a){var b,c="leaflet-control-zoom-fullscreen";return b=a.zoomControl&&!this.options.forceSeparateButton?a.zoomControl._container:L.DomUtil.create("div","leaflet-bar"),this._createButton(this.options.title,c,b,this.toogleFullScreen,a),b},_createButton:function(b,c,d,e,f){var g=L.DomUtil.create("a",c,d);return g.href="#",g.title=b,L.DomEvent.addListener(g,"click",L.DomEvent.stopPropagation).addListener(g,"click",L.DomEvent.preventDefault).addListener(g,"click",e,f),L.DomEvent.addListener(d,a.fullScreenEventName,L.DomEvent.stopPropagation).addListener(d,a.fullScreenEventName,L.DomEvent.preventDefault).addListener(d,a.fullScreenEventName,this._handleEscKey,f),L.DomEvent.addListener(document,a.fullScreenEventName,L.DomEvent.stopPropagation).addListener(document,a.fullScreenEventName,L.DomEvent.preventDefault).addListener(document,a.fullScreenEventName,this._handleEscKey,f),g},toogleFullScreen:function(){this._exitFired=!1;var b=this._container;this._isFullscreen?(a.supportsFullScreen?a.cancelFullScreen(b):L.DomUtil.removeClass(b,"leaflet-pseudo-fullscreen"),this.invalidateSize(),this.fire("exitFullscreen"),this._exitFired=!0,this._isFullscreen=!1):(a.supportsFullScreen?a.requestFullScreen(b):L.DomUtil.addClass(b,"leaflet-pseudo-fullscreen"),this.invalidateSize(),this.fire("enterFullscreen"),this._isFullscreen=!0)},_handleEscKey:function(){a.isFullScreen(this)||this._exitFired||(this.fire("exitFullscreen"),this._exitFired=!0,this._isFullscreen=!1)}}),L.Map.addInitHook(function(){this.options.fullscreenControl&&(this.fullscreenControl=L.control.fullscreen(this.options.fullscreenControlOptions),this.addControl(this.fullscreenControl))}),L.control.fullscreen=function(a){return new L.Control.FullScreen(a)};var a={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},b="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.exitFullscreen)a.supportsFullScreen=!0;else for(var c=0,d=b.length;d>c;c++)if(a.prefix=b[c],"undefined"!=typeof document[a.prefix+"CancelFullScreen"]){a.supportsFullScreen=!0;break}a.supportsFullScreen&&(a.fullScreenEventName=a.prefix+"fullscreenchange",a.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},a.requestFullScreen=function(a){return""===this.prefix?a.requestFullscreen():a[this.prefix+"RequestFullScreen"]()},a.cancelFullScreen=function(a){return""===this.prefix?document.exitFullscreen():document[this.prefix+"CancelFullScreen"]()}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each(function(){var b=jQuery(this);a.supportsFullScreen&&a.requestFullScreen(b)})}),window.fullScreenApi=a}();
/*!最后修改于： 2015-12-08 */